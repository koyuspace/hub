---
import Layout from '../layouts/Layout.astro';
import donationData from '../json/donations.json';
import { Icon } from 'astro-icon';

const goal = donationData.goal;
const donations = donationData.donations;
let percent = (donations / goal) * 100;
---

<Layout>
    <main>
        <h1 id="donatetext">Donate</h1>
        <div id="buttons">
            <p id="dstart">How do you want to pay?</p>
            <a href="https://liberapay.com/bubblineyuri" class="button" target="_blank"><Icon name="simple-icons:paypal" /> PayPal</a>
            <a href="https://donate.stripe.com/9AQg1BbUk5tVa7mdQQ" class="button" target="_blank"><Icon name="simple-icons:stripe" /> Stripe</a><br><br>
            <img src="/qr-code.png" alt="Ethereum 0x82621c94702f5A270a93209A1f35fF41CC6D44E7" title="Ethereum" height="160">
        </div><br>
        <div id="dprogress">
            <p id="annual">Current annual goal:</p>
            <div class="progress">
                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style={`width: ${percent}%;`}>{donations}€ / {goal}€</div>
            </div>
        </div>
    </main>
</Layout>
